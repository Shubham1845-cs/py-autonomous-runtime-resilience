{% extends "base.html" %}

{% block title %}Settings | AutoHeal-Py{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Settings</h1>
    <p>Configure monitoring thresholds and pattern behavior</p>
</div>

<div class="container">
    <div class="settings-grid">
        <div class="settings-card">
            <h2>Monitor Configuration</h2>
            <div class="setting-item">
                <label>Sliding Window (seconds)</label>
                <input type="number" value="60" class="input-field">
                <p class="setting-help">Time window for metrics collection</p>
            </div>
            <div class="setting-item">
                <label>Max Entries Per Service</label>
                <input type="number" value="1000" class="input-field">
                <p class="setting-help">Maximum metrics stored per service</p>
            </div>
        </div>

        <div class="settings-card">
            <h2>Detection Thresholds</h2>
            <div class="setting-item">
                <label>Critical Failure Rate (%)</label>
                <input type="number" value="50" class="input-field">
                <p class="setting-help">Threshold for CRITICAL state</p>
            </div>
            <div class="setting-item">
                <label>Degraded Failure Rate (%)</label>
                <input type="number" value="20" class="input-field">
                <p class="setting-help">Threshold for DEGRADED state</p>
            </div>
            <div class="setting-item">
                <label>Slow Latency Threshold (s)</label>
                <input type="number" step="0.1" value="3.0" class="input-field">
                <p class="setting-help">Latency threshold for SLOW state</p>
            </div>
        </div>

        <div class="settings-card">
            <h2>Circuit Breaker</h2>
            <div class="setting-item">
                <label>Failure Threshold</label>
                <input type="number" value="5" class="input-field">
                <p class="setting-help">Failures before opening circuit</p>
            </div>
            <div class="setting-item">
                <label>Timeout (seconds)</label>
                <input type="number" value="30" class="input-field">
                <p class="setting-help">Time before attempting recovery</p>
            </div>
        </div>

        <div class="settings-card">
            <h2>Retry Pattern</h2>
            <div class="setting-item">
                <label>Max Attempts</label>
                <input type="number" value="3" class="input-field">
                <p class="setting-help">Maximum retry attempts</p>
            </div>
            <div class="setting-item">
                <label>Backoff Base</label>
                <input type="number" step="0.1" value="2.0" class="input-field">
                <p class="setting-help">Base for exponential backoff</p>
            </div>
            <div class="setting-item">
                <label>Max Delay (seconds)</label>
                <input type="number" value="10" class="input-field">
                <p class="setting-help">Maximum delay between retries</p>
            </div>
        </div>
    </div>

    <div class="settings-actions">
        <button class="btn btn-primary">Save Configuration</button>
        <button class="btn btn-secondary">Reset to Defaults</button>
    </div>

    <div class="info-box">
        <strong>Note:</strong> Configuration changes will take effect immediately for new pattern injections.
        Existing patterns will continue with their original configuration.
    </div>
</div>
{% endblock %}